# Breeze-ASR-25 微調版本對比

## 檔案說明

| 檔案名稱 | 用途 | 適用情況 |
|---------|------|---------|
| `finetune_Breeze_whisper.py` | 完整版本 | 正式訓練，使用全部資料 |
| `finetune_Breeze_whisper_test.py` | 測試版本 | 快速驗證，使用 10% 資料 |

## 主要差異對比

| 項目 | 完整版本 | 測試版本 |
|------|----------|----------|
| **資料量** | 100% (62,532 筆訓練資料) | 10% (約 6,253 筆訓練資料) |
| **訓練 Epochs** | 3 | 1 |
| **最大步數** | 無限制 | 200 步 |
| **Batch Size** | 8 | 4 |
| **保存頻率** | 每 500 步 | 每 100 步 |
| **評估頻率** | 每 500 步 | 每 100 步 |
| **日誌頻率** | 每 25 步 | 每 10 步 |
| **預熱步數** | 1000 步 | 50 步 |
| **輸出目錄** | `./results` | `./results_test` |
| **模型保存** | `./breeze-asr-25-finetune` | `./breeze-asr-25-test` |

## 預期時間對比

| 版本 | 預計時間 | 適用場景 |
|------|----------|----------|
| **完整版本** | 3-4 小時 | 正式微調，追求最佳效果 |
| **測試版本** | 15-30 分鐘 | 快速驗證流程，檢查參數 |

## 使用建議

### 1. 先運行測試版本
```bash
python finetune_Breeze_whisper_test.py
```
- 驗證所有設定正確
- 檢查 GPU 記憶體使用情況
- 確認資料前處理無誤

### 2. 再運行完整版本
```bash
python finetune_Breeze_whisper.py
```
- 在測試版本成功後執行
- 用於正式的模型微調

## 監控建議

無論使用哪個版本，都建議同時運行監控腳本：

```bash
# 在另一個終端運行
python monitor_training.py
```

## 硬體需求

| 版本 | GPU 記憶體 | 系統記憶體 | 硬碟空間 |
|------|------------|------------|----------|
| **完整版本** | 6-7GB | 8GB+ | 10GB+ |
| **測試版本** | 4-5GB | 4GB+ | 5GB+ |

## 注意事項

1. **測試版本的限制**：
   - 僅使用 10% 資料，效果可能不如完整版本
   - 主要用於驗證流程，不建議用於正式部署

2. **資料取樣**：
   - 使用 `random_state=42` 確保每次取樣結果一致
   - 隨機取樣可能不完全代表原始資料分佈

3. **模型保存**：
   - 兩個版本會保存到不同目錄，避免覆蓋
   - 測試版本的模型可用於快速推理測試 